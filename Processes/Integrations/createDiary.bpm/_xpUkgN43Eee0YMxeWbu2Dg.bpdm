<bpel:process xmlns:bpdm="http://www.intalio/designer/business-process-data-modeling" xmlns:mapper="http://www.intalio.com/designer/mapper" xmlns:Launchpoint="http://www.example.org/Launchpoint" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:CreateDiaryService="http://bpms.everteam.com/Services/REST/CreateDiaryService.rest" xmlns:logger-process="http://thisproject/Processes/Integrations/logger/process" xmlns:diag="http://thisdiagram" xmlns:processimplicitPartner="http://thisdiagram/processimplicitPartner" xmlns:this="http://thisdiagram/process" xmlns:tns="http://everteam.com/xvar/example" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:createDiary="__project:///Schemas/integrations/createDiary.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:metrics="http://test.com/xvar/example" xmlns:caller="http://thisdiagram/caller" xmlns:Exception_management="http://thisdiagram/Exception_management" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:ode="http://www.apache.org/ode/type/extension" targetNamespace="http://thisdiagram/process">
    <bpdm:dependencies version="6000089">
        <bpdm:namespaceDefinition bpdm:uri="http://www.example.org/Launchpoint" bpdm:prefix="Launchpoint" bpdm:comment="contrib=&apos;project:///Schemas/Launchpoint.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema" bpdm:prefix="xs"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://bpms.everteam.com/Services/REST/CreateDiaryService.rest" bpdm:prefix="CreateDiaryService" bpdm:comment="contrib=&apos;project:///Services/REST/CreateDiaryService.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisproject/Processes/Integrations/logger/process" bpdm:prefix="logger-process" bpdm:comment="contrib=&apos;project:///Processes/Integrations/logger-process.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram" bpdm:prefix="diag" bpdm:comment="contrib=&apos;partner-pool:///_JncR5t41Eee0YMxeWbu2Dg"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/processimplicitPartner" bpdm:prefix="processimplicitPartner" bpdm:comment="contrib=&apos;partner-pool:///_xpUkgN43Eee0YMxeWbu2DgimplicitPartner"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/process" bpdm:prefix="this" bpdm:type="this_process"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://everteam.com/xvar/example" bpdm:prefix="tns" bpdm:comment="contrib=&apos;project:///IntalioObjects/customVariable.xvar"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/XML/1998/namespace" bpdm:prefix="xml"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="__project:///Schemas/integrations/createDiary.xsd" bpdm:prefix="createDiary" bpdm:comment="contrib=&apos;project:///Schemas/integrations/createDiary.xsd"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema-instance" bpdm:prefix="xsi"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://test.com/xvar/example" bpdm:prefix="metrics" bpdm:comment="contrib=&apos;project:///Metrics/metrics.xvar"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/caller" bpdm:prefix="caller" bpdm:comment="contrib=&apos;partner-pool:///_JncR5t41Eee0YMxeWbu2Dg"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/Exception_management" bpdm:prefix="Exception_management" bpdm:comment="contrib=&apos;partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg"></bpdm:namespaceDefinition>
        <bpdm:namespaceContributor bpdm:url="thisprocess://this-process-types" bpdm:label="process defined this-process-types">
            <vprop:property name="prop" type="xs:string"/>
            <wsdl:portType name="ForException_management">
                <wsdl:operation name="Receive_recover_signal" bpdm:source="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg">
                    <wsdl:input message="this:Receive_recover_signalRequest" name="Receive_recover_signal"/>
                    <wsdl:output message="this:Receive_recover_signalResponse" name="Receive_recover_signalResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForException_management" type="this:ForException_management" bpdm:isSynchronized="true"/>
            <wsdl:portType name="Forcaller">
                <wsdl:operation name="Receive_request" bpdm:source="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg">
                    <wsdl:input message="this:Receive_requestRequest" name="Receive_request"/>
                    <wsdl:output message="this:Receive_requestResponse" name="Receive_requestResponse"/>
                </wsdl:operation>
            </wsdl:portType>
            <bpel:binding name="CanonicBindingForcaller" type="this:Forcaller" bpdm:isSynchronized="true"/>
            <xs:element name="Receive_recover_signalRequest" type="Launchpoint:ErrorRecoveryType" bpdm:source="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg"/>
            <wsdl:message name="Receive_recover_signalRequest" bpdm:source="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg">
                <wsdl:part name="body" element="this:Receive_recover_signalRequest"/>
            </wsdl:message>
            <xs:element name="Receive_recover_signalResponse" type="Launchpoint:BpmAckType" bpdm:source="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg"/>
            <wsdl:message name="Receive_recover_signalResponse" bpdm:source="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg">
                <wsdl:part name="body" element="this:Receive_recover_signalResponse"/>
            </wsdl:message>
            <xs:element name="Receive_requestRequest" type="Launchpoint:CreateDiaryType" bpdm:source="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg"/>
            <wsdl:message name="Receive_requestRequest" bpdm:source="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg">
                <wsdl:part name="body" element="this:Receive_requestRequest"/>
            </wsdl:message>
            <xs:element name="Receive_requestResponse" type="Launchpoint:BpmAckType" bpdm:source="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg"/>
            <wsdl:message name="Receive_requestResponse" bpdm:source="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg">
                <wsdl:part name="body" element="this:Receive_requestResponse"/>
            </wsdl:message>
            <vprop:propertyAlias propertyName="this:prop" messageType="this:Receive_requestResponse" part="body">
                <vprop:query>Launchpoint:pid/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:prop" messageType="this:Receive_recover_signalRequest" part="body">
                <vprop:query>Launchpoint:recoverId/text()</vprop:query>
            </vprop:propertyAlias>
        </bpdm:namespaceContributor>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_XKkGYN46Eee0YMxeWbu2Dg" bpdm:label="Exception management"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_JncR5t41Eee0YMxeWbu2Dg" bpdm:label="caller"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_xpUkgN43Eee0YMxeWbu2DgimplicitPartner" bpdm:label="processimplicitPartner"/>
        <bpdm:namespaceContributor bpdm:url="project:///Schemas/Launchpoint.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Services/REST/CreateDiaryService.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Schemas/integrations/createDiary.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///Processes/Integrations/logger-process.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///Metrics/metrics.xvar"/>
        <bpdm:namespaceContributor bpdm:url="project:///Metrics/metrics.xvar.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar"/>
        <bpdm:namespaceContributor bpdm:url="project:///IntalioObjects/customVariable.xvar.xsd"/>
    </bpdm:dependencies>
    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="process" bpdm:ID="_xpUkgN43Eee0YMxeWbu2Dg">
        <bpel:partnerLinks>
            <bpel:partnerLink name="processAndCallerPlkVar" partnerLinkType="diag:processAndCaller" myRole="process_for_caller" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForcaller" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/process/caller" bpdm:providedIsDefault="true" bpdm:clientTasks="_xpUkgN43Eee0YMxeWbu2Dg:_zYyXAN43Eee0YMxeWbu2Dg" bpdm:isManaged="true" bpdm:otherPoolId="_JncR5t41Eee0YMxeWbu2Dg"/>
            <bpel:partnerLink name="processAndException_managementPlkVar" partnerLinkType="diag:processAndException_management" myRole="process_for_Exception_management" bpdm:enableSharing="false" bpdm:providedService="this:CanonicServiceForException_management" bpdm:providedPort="canonicPort" bpdm:provideSOAPAddress="${deploy_serverUrl}${deploy_baseSoapServicesUrl}/${deploy_bundleNcName}/${diagram_relativeURL}/process/Exception_management" bpdm:providedIsDefault="true" bpdm:clientTasks="_ENt3UN45Eee0YMxeWbu2Dg:_-89IWN44Eee0YMxeWbu2Dg" bpdm:isManaged="true" bpdm:otherPoolId="_XKkGYN46Eee0YMxeWbu2Dg"/>
            <bpel:partnerLink name="processimplicitPartnerAndProcessForHttpPortPlkVar" partnerLinkType="diag:processimplicitPartnerAndProcessForHttpPortPlk" initializePartnerRole="yes" partnerRole="processimplicitPartner_for_process" bpdm:invokedService="CreateDiaryService:restService" bpdm:invokedPort="httpPort" bpdm:invokedSOAPAddress="http://192.168.241.200:3001/api/diaries" bpdm:invokedIsDefault="true" bpdm:clientTasks="_mV7SwN45Eee0YMxeWbu2Dg:_QIxwkN44Eee0YMxeWbu2Dg" bpdm:isManaged="true" bpdm:otherPoolId="_xpUkgN43Eee0YMxeWbu2DgimplicitPartner"/>
            <bpel:partnerLink name="processimplicitPartnerAndProcessForCanonicPortPlkVar" partnerLinkType="diag:processimplicitPartnerAndProcessForCanonicPortPlk" initializePartnerRole="yes" partnerRole="processimplicitPartner_for_process" bpdm:invokedService="logger-process:CanonicServiceForCaller" bpdm:invokedPort="canonicPort" bpdm:invokedSOAPAddress="epr" bpdm:invokedIsDefault="true" bpdm:clientTasks="_qd1eMP-1EeetAvjEnkssdA:_qAez1v-1EeetAvjEnkssdA, _e1-qQP-1EeetAvjEnkssdA:_eZEExv-1EeetAvjEnkssdA, _3lXVIP-1EeetAvjEnkssdA:_3N-v5v-1EeetAvjEnkssdA" bpdm:isManaged="true" bpdm:otherPoolId="_xpUkgN43Eee0YMxeWbu2DgimplicitPartner"/>
        </bpel:partnerLinks>
        <bpel:correlationSets>
            <bpel:correlationSet name="newCorrelationSet" properties="this:prop"/>
        </bpel:correlationSets>
        <bpel:variables xmlns:xvar="http://ode.apache.org/externalVariables">
            <bpel:variable name="customVariable" element="tns:customVariable" xvar:id="customVariable-_xpducd43Eee0YMxeWbu2Dg" xvar:relates-to="customVariable-keys" bpdm:xvarType="tns:customVariable" bpdm:id="_xpducd43Eee0YMxeWbu2Dg"/>
            <bpel:variable name="thisReceive_requestRequest2Msg" messageType="this:Receive_requestRequest" bpdm:id="_zZOb4N43Eee0YMxeWbu2Dg" bpdm:messageIds="inc:_zY7g8N43Eee0YMxeWbu2Dg"/>
            <bpel:variable name="thisReceive_requestResponse1Msg" messageType="this:Receive_requestResponse" bpdm:id="_0um6cN43Eee0YMxeWbu2Dg" bpdm:messageIds=" out:_0udJcN43Eee0YMxeWbu2Dg">
                <bpel:from bpdm:toPart="body">
                    <bpel:literal bpdm:linkedMessageType="this:Receive_requestResponse" bpdm:linkedPart="body"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="failCount" type="xs:int" bpdm:id="_g8lkoN47Eee0YMxeWbu2Dg">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="xs:int"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="success" type="xs:boolean" bpdm:id="_hFYUQN47Eee0YMxeWbu2Dg">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="xs:boolean"></bpel:literal>
                </bpel:from>
            </bpel:variable>
        </bpel:variables>
        <bpel:sequence>
            <bpdm:messagingtask eventType="start: message" operation="Receive_request" partnerLink="processAndCallerPlkVar" portType="this:Forcaller" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive request" bpdm:ID="_zYyXAN43Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="yes">
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive_requestRequest2Msg" bpdm:msgVarScopeId="_xpUkgN43Eee0YMxeWbu2Dg" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestRequest" bpdm:isHeaderAuthorizationAware="yes" bpdm:ID="_zY7g8N43Eee0YMxeWbu2Dg"></bpdm:linkset>
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>0</bpel:from>
                        <bpel:to>$failCount</bpel:to><mapper:mapperLink><mapper:vertice id="335591727" targetPath="$failCount" targetedBy="783025837-arg0"></mapper:vertice><mapper:vertice id="783025837" dimension="79x24" location="178,90"><mapper:value>0</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>false()</bpel:from>
                        <bpel:to>$success</bpel:to><mapper:mapperLink><mapper:vertice id="1012652367" targetPath="$success" targetedBy="882296687-arg0"></mapper:vertice><mapper:vertice id="882296687" dimension="79x24" location="252,139"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$ode:pid</bpel:from>
                        <bpel:to>$thisReceive_requestResponse1Msg.body/Launchpoint:pid</bpel:to><mapper:mapperLink><mapper:vertice id="1348563599" targetPath="$thisReceive_requestResponse1Msg.body/Launchpoint:pid" targetedBy="73935813-arg0"></mapper:vertice><mapper:vertice id="73935813" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>current-dateTime()</bpel:from>
                        <bpel:to>$thisReceive_requestResponse1Msg.body/Launchpoint:timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="492790520" targetPath="$thisReceive_requestResponse1Msg.body/Launchpoint:timestamp" targetedBy="1902124908-arg0"></mapper:vertice><mapper:vertice id="1902124908" dimension="109x24" location="292,71"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_requestResponse1Msg" bpdm:msgVarScopeId="_xpUkgN43Eee0YMxeWbu2Dg" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_requestResponse" bpdm:isHeaderAuthorizationAware="yes" bpdm:ID="_0udJcN43Eee0YMxeWbu2Dg">
                    <bpel:correlation set="newCorrelationSet" initiate="join" pattern="request" bpdm:isSource="false"></bpel:correlation>
                </bpdm:linkset>
            </bpdm:messagingtask>
            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Log proces started" bpdm:ID="_e1-qQP-1EeetAvjEnkssdA">
                <bpel:variables>
                    <bpel:variable name="logger-processReceive_LogResponse1Msg" messageType="logger-process:Receive_LogResponse" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="1" bpdm:messageIds="inc:_eZEExv-1EeetAvjEnkssdAIncoming"/>
                    <bpel:variable name="logger-processReceive_Log1Msg" messageType="logger-process:Receive_LogRequest" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="0" bpdm:messageIds=" out:_eZEExv-1EeetAvjEnkssdAOutgoing">
                        <bpel:from bpdm:toPart="body">
                            <bpel:literal bpdm:linkedMessageType="logger-process:Receive_LogRequest" bpdm:linkedPart="body" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:opMsgType="0" bpdm:operation="Receive_Log"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                </bpel:variables>
                <bpel:sequence>
                    <bpdm:messagingtask operation="Receive_Log" partnerLink="processimplicitPartnerAndProcessForCanonicPortPlkVar" portType="logger-process:ForCaller" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Send log" bpdm:ID="_eZEExv-1EeetAvjEnkssdA" bpdm:isHeaderAuthorizationAware="no">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>false()</bpel:from>
                                <bpel:to>$logger-processReceive_Log1Msg.body/Launchpoint:isError</bpel:to><mapper:mapperLink><mapper:vertice id="10110300" targetPath="$logger-processReceive_Log1Msg.body/Launchpoint:isError" targetedBy="246591998-arg0"></mapper:vertice><mapper:vertice id="246591998" dimension="79x24" location="540,44"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case</bpel:from>
                                <bpel:to>$logger-processReceive_Log1Msg.body/Launchpoint:Case</bpel:to><mapper:mapperLink><mapper:vertice id="138262616" targetPath="$logger-processReceive_Log1Msg.body/Launchpoint:Case" targetedBy="1127281857-arg0"></mapper:vertice><mapper:vertice id="1127281857" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>"Process start"</bpel:from>
                                <bpel:to>$logger-processReceive_Log1Msg.body/Launchpoint:action_name</bpel:to><mapper:mapperLink><mapper:vertice id="417785517" targetPath="$logger-processReceive_Log1Msg.body/Launchpoint:action_name" targetedBy="1819678851-arg0"></mapper:vertice><mapper:vertice id="1819678851" dimension="84x24" location="450,99"><mapper:value>"Process start"</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>"createDiary"</bpel:from>
                                <bpel:to>$logger-processReceive_Log1Msg.body/Launchpoint:process_name</bpel:to><mapper:mapperLink><mapper:vertice id="469404314" targetPath="$logger-processReceive_Log1Msg.body/Launchpoint:process_name" targetedBy="2093913713-arg0"></mapper:vertice><mapper:vertice id="2093913713" dimension="79x24" location="464,136"><mapper:value>"createDiary"</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$ode:pid</bpel:from>
                                <bpel:to>$logger-processReceive_Log1Msg.body/Launchpoint:pid</bpel:to><mapper:mapperLink><mapper:vertice id="1902550798" targetPath="$logger-processReceive_Log1Msg.body/Launchpoint:pid" targetedBy="6815690-arg0"></mapper:vertice><mapper:vertice id="6815690" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="logger-processReceive_Log1Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogRequest" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_eZEExv-1EeetAvjEnkssdAOutgoing"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="logger-processReceive_LogResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogResponse" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_eZEExv-1EeetAvjEnkssdAIncoming"></bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Create diary" bpdm:ID="_3qH-cN45Eee0YMxeWbu2Dg" bpdm:faultOnFailure="true">
                <bpdm:linkset bpdm:type="loop" bpdm:loopType="repeatUntil" bpdm:backEdgeParticipantType="none" bpdm:isBackEdgeContributor="no">
                    <bpel:condition bpdm:loopType="repeatUntil">true() = $success<mapper:mapperLink><mapper:vertice id="477176820" targetPath="$repeat until" targetedBy="1846122922-arg2"></mapper:vertice><mapper:vertice id="1846122922" dimension="79x24" location="226,155"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="29270051" dimension="79x24" location="58,109" targetedBy="1846122922-arg0"><mapper:value>true()</mapper:value></mapper:vertice><mapper:vertice id="277517910" sourcePath="$success" targetedBy="1846122922-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence>
                    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Service transaction" bpdm:ID="_mV7SwN45Eee0YMxeWbu2Dg" bpdm:faultOnFailure="true">
                        <bpel:variables>
                            <bpel:variable name="createDiaryServiceCreate_DiaryResponse1Msg" messageType="CreateDiaryService:Create_Diary_output" binding="CreateDiaryService:restBinding" operation="Create_Diary" opMsgType="1" bpdm:messageIds="inc:_QIxwkN44Eee0YMxeWbu2DgIncoming"/>
                            <bpel:variable name="createDiaryServiceCreate_DiaryRequest1Msg" messageType="CreateDiaryService:Create_Diary_input" binding="CreateDiaryService:restBinding" operation="Create_Diary" opMsgType="0" bpdm:messageIds=" out:_QIxwkN44Eee0YMxeWbu2DgOutgoing">
                                <bpel:from bpdm:toPart="body">
                                    <bpel:literal bpdm:linkedMessageType="CreateDiaryService:Create_Diary_input" bpdm:linkedPart="body" bpdm:binding="CreateDiaryService:restBinding" bpdm:opMsgType="0" bpdm:operation="Create_Diary"></bpel:literal>
                                </bpel:from>
                            </bpel:variable>
                        </bpel:variables>
                        <bpel:faultHandlers>
                            <bpel:catchAll>
                                <bpdm:eventHandler bpdm:label="Error_Intermediate_Event" bpdm:ID="_2Oyo4N45Eee0YMxeWbu2Dg" bpdm:type="error"></bpdm:eventHandler>
                                <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Error handler" bpdm:ID="_ENt3UN45Eee0YMxeWbu2Dg">
                                    <bpel:variables xmlns:xvar="http://ode.apache.org/externalVariables">
                                        <bpel:variable name="thisReceive_recover_signalRequest1Msg" messageType="this:Receive_recover_signalRequest" bpdm:id="_Y-EO4N47Eee0YMxeWbu2Dg" bpdm:messageIds="inc:_Y9xT8N47Eee0YMxeWbu2Dg"/>
                                        <bpel:variable name="thisReceive_recover_signalResponse2Msg" messageType="this:Receive_recover_signalResponse" bpdm:id="_ZWqVGd47Eee0YMxeWbu2Dg" bpdm:messageIds=" out:_ZWhLIN47Eee0YMxeWbu2Dg">
                                            <bpel:from bpdm:toPart="body">
                                                <bpel:literal bpdm:linkedMessageType="this:Receive_recover_signalResponse" bpdm:linkedPart="body"></bpel:literal>
                                            </bpel:from>
                                        </bpel:variable>
                                        <bpel:variable name="ExecutionError" element="metrics:ExecutionError" xvar:id="ExecutionError-_gMkDpt5AEee0YMxeWbu2Dg" xvar:relates-to="ExecutionError-keys" bpdm:xvarType="metrics:ExecutionError" bpdm:id="_gMkDpt5AEee0YMxeWbu2Dg"/>
                                    </bpel:variables>
                                    <bpel:sequence>
                                        <bpdm:messagingtask eventType="start: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Start_Event" bpdm:ID="_-8XScN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no">
                                            <bpdm:linkset bpdm:type="assignments">
                                                <bpel:copy>
                                                    <bpel:from>1 + $failCount</bpel:from>
                                                    <bpel:to>$failCount</bpel:to><mapper:mapperLink><mapper:vertice id="1074885600" targetPath="$failCount" targetedBy="675594367-arg2"></mapper:vertice><mapper:vertice id="675594367" dimension="79x24" location="156,108"><mapper:value>+</mapper:value></mapper:vertice><mapper:vertice id="172624994" dimension="79x24" location="67,70" targetedBy="675594367-arg0"><mapper:value>1</mapper:value></mapper:vertice><mapper:vertice id="1292607664" sourcePath="$failCount" targetedBy="675594367-arg1"></mapper:vertice></mapper:mapperLink>
                                                </bpel:copy>
                                                <bpel:copy>
                                                    <bpel:from>false()</bpel:from>
                                                    <bpel:to>$success</bpel:to><mapper:mapperLink><mapper:vertice id="825196932" targetPath="$success" targetedBy="245330139-arg0"></mapper:vertice><mapper:vertice id="245330139" dimension="79x24" location="101,165"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                </bpel:copy>
                                            </bpdm:linkset>
                                        </bpdm:messagingtask>
                                        <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Log error" bpdm:ID="_qd1eMP-1EeetAvjEnkssdA">
                                            <bpel:variables>
                                                <bpel:variable name="logger-processReceive_LogResponse2Msg" messageType="logger-process:Receive_LogResponse" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="1" bpdm:messageIds="inc:_qAez1v-1EeetAvjEnkssdAIncoming"/>
                                                <bpel:variable name="logger-processReceive_Log2Msg" messageType="logger-process:Receive_LogRequest" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="0" bpdm:messageIds=" out:_qAez1v-1EeetAvjEnkssdAOutgoing">
                                                    <bpel:from bpdm:toPart="body">
                                                        <bpel:literal bpdm:linkedMessageType="logger-process:Receive_LogRequest" bpdm:linkedPart="body" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:opMsgType="0" bpdm:operation="Receive_Log"></bpel:literal>
                                                    </bpel:from>
                                                </bpel:variable>
                                            </bpel:variables>
                                            <bpel:sequence>
                                                <bpdm:messagingtask operation="Receive_Log" partnerLink="processimplicitPartnerAndProcessForCanonicPortPlkVar" portType="logger-process:ForCaller" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Send log" bpdm:ID="_qAez1v-1EeetAvjEnkssdA" bpdm:isHeaderAuthorizationAware="no">
                                                    <bpdm:linkset bpdm:type="assignments">
                                                        <bpel:copy>
                                                            <bpel:from>true()</bpel:from>
                                                            <bpel:to>$logger-processReceive_Log2Msg.body/Launchpoint:isError</bpel:to><mapper:mapperLink><mapper:vertice id="129518912" targetPath="$logger-processReceive_Log2Msg.body/Launchpoint:isError" targetedBy="1696088210-arg0"></mapper:vertice><mapper:vertice id="1696088210" dimension="79x24" location="500,33"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case</bpel:from>
                                                            <bpel:to>$logger-processReceive_Log2Msg.body/Launchpoint:Case</bpel:to><mapper:mapperLink><mapper:vertice id="1851651594" targetPath="$logger-processReceive_Log2Msg.body/Launchpoint:Case" targetedBy="105589526-arg0"></mapper:vertice><mapper:vertice id="105589526" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>"Process error"</bpel:from>
                                                            <bpel:to>$logger-processReceive_Log2Msg.body/Launchpoint:action_name</bpel:to><mapper:mapperLink><mapper:vertice id="557062955" targetPath="$logger-processReceive_Log2Msg.body/Launchpoint:action_name" targetedBy="1189413591-arg0"></mapper:vertice><mapper:vertice id="1189413591" dimension="86x24" location="468,84"><mapper:value>"Process error"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>"createDiary"</bpel:from>
                                                            <bpel:to>$logger-processReceive_Log2Msg.body/Launchpoint:process_name</bpel:to><mapper:mapperLink><mapper:vertice id="1859797781" targetPath="$logger-processReceive_Log2Msg.body/Launchpoint:process_name" targetedBy="52451969-arg0"></mapper:vertice><mapper:vertice id="52451969" dimension="79x24" location="489,128"><mapper:value>"createDiary"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>$ode:pid</bpel:from>
                                                            <bpel:to>$logger-processReceive_Log2Msg.body/Launchpoint:pid</bpel:to><mapper:mapperLink><mapper:vertice id="319010017" targetPath="$logger-processReceive_Log2Msg.body/Launchpoint:pid" targetedBy="383627806-arg0"></mapper:vertice><mapper:vertice id="383627806" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                    </bpdm:linkset>
                                                    <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="logger-processReceive_Log2Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogRequest" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_qAez1v-1EeetAvjEnkssdAOutgoing"></bpdm:linkset>
                                                    <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="logger-processReceive_LogResponse2Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogResponse" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_qAez1v-1EeetAvjEnkssdAIncoming"></bpdm:linkset>
                                                </bpdm:messagingtask>
                                            </bpel:sequence>
                                        </bpel:scope>
                                        <bpdm:gateway bpdm:label="Fail count" bpdm:ID="_-8pmWN44Eee0YMxeWbu2Dg" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                            <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_BA-OgN45Eee0YMxeWbu2Dg" bpdm:targetDisplayName="&lt;=3">
                                                <bpel:condition>$failCount&lt;= 3<mapper:mapperLink><mapper:vertice id="1260064046" targetPath="$condition" targetedBy="2028482679-arg2"></mapper:vertice><mapper:vertice id="2028482679" dimension="79x24" location="328,103"><mapper:value>&lt;=</mapper:value></mapper:vertice><mapper:vertice id="164133138" sourcePath="$failCount" targetedBy="2028482679-arg0"></mapper:vertice><mapper:vertice id="118518507" dimension="79x24" location="197,163" targetedBy="2028482679-arg1"><mapper:value>3</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                                            </bpdm:linkset>
                                            <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_BhdscN45Eee0YMxeWbu2Dg" bpdm:targetDisplayName="default"></bpdm:linkset>
                                            <bpel:sequence>
                                                <bpdm:messagingtask eventType="intermediate: timer" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Wait" bpdm:ID="_-9jlSN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no">
                                                    <bpdm:linkset bpdm:type="timer">
                                                        <bpel:for>ode:get-property-value("SERVICE_RETRY_WAIT")<mapper:mapperLink><mapper:vertice id="1960452808" targetPath="$duration" targetedBy="1360841180-arg1"></mapper:vertice><mapper:vertice id="1360841180" dimension="139x24" location="245,64"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="447587498" dimension="134x24" location="80,24" targetedBy="1360841180-arg0"><mapper:value>"SERVICE_RETRY_WAIT"</mapper:value></mapper:vertice></mapper:mapperLink></bpel:for>
                                                    </bpdm:linkset>
                                                </bpdm:messagingtask>
                                            </bpel:sequence>
                                            <bpel:sequence>
                                                <bpdm:messagingtask bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Signal need for recovery" bpdm:ID="_-8f1WN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no">
                                                    <bpdm:linkset bpdm:type="assignments">
                                                        <bpel:copy>
                                                            <bpel:from>$ode:pid</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:id</bpel:to><mapper:mapperLink><mapper:vertice id="1222689885" targetPath="$ExecutionError/metrics:id" targetedBy="974930729-arg0"></mapper:vertice><mapper:vertice id="974930729" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:CaseId</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:CaseId</bpel:to><mapper:mapperLink><mapper:vertice id="883914479" targetPath="$ExecutionError/metrics:CaseId" targetedBy="979734931-arg0"></mapper:vertice><mapper:vertice id="979734931" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:CaseId"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>$failCount</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:failCount</bpel:to><mapper:mapperLink><mapper:vertice id="760052362" targetPath="$ExecutionError/metrics:failCount" targetedBy="3397661-arg0"></mapper:vertice><mapper:vertice id="3397661" sourcePath="$failCount"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>true()</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:technicalError</bpel:to><mapper:mapperLink><mapper:vertice id="763813491" targetPath="$ExecutionError/metrics:technicalError" targetedBy="117049083-arg0"></mapper:vertice><mapper:vertice id="117049083" dimension="79x24" location="255,100"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>"CREATEDIARY"</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:step</bpel:to><mapper:mapperLink><mapper:vertice id="859817641" targetPath="$ExecutionError/metrics:step" targetedBy="2075653694-arg0"></mapper:vertice><mapper:vertice id="2075653694" dimension="93x24" location="261,128"><mapper:value>"CREATEDIARY"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>false()</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:resolved</bpel:to><mapper:mapperLink><mapper:vertice id="273794668" targetPath="$ExecutionError/metrics:resolved" targetedBy="1762084289-arg0"></mapper:vertice><mapper:vertice id="1762084289" dimension="79x24" location="284,161"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>true()</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:integration</bpel:to><mapper:mapperLink><mapper:vertice id="1603932314" targetPath="$ExecutionError/metrics:integration" targetedBy="282327737-arg0"></mapper:vertice><mapper:vertice id="282327737" dimension="79x24" location="293,201"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>false()</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:validation</bpel:to><mapper:mapperLink><mapper:vertice id="1967162622" targetPath="$ExecutionError/metrics:validation" targetedBy="1789351637-arg0"></mapper:vertice><mapper:vertice id="1789351637" dimension="79x24" location="313,233"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>"Error calling create diary"</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:message</bpel:to><mapper:mapperLink><mapper:vertice id="970613917" targetPath="$ExecutionError/metrics:message" targetedBy="1908075490-arg0"></mapper:vertice><mapper:vertice id="1908075490" dimension="145x24" location="272,285"><mapper:value>"Error calling create diary"</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                    </bpdm:linkset>
                                                </bpdm:messagingtask>
                                                <bpdm:messagingtask eventType="intermediate: message" operation="Receive_recover_signal" partnerLink="processAndException_managementPlkVar" portType="this:ForException_management" isMyRole="true" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Receive recover signal" bpdm:ID="_-89IWN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="yes">
                                                    <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="thisReceive_recover_signalRequest1Msg" bpdm:msgVarScopeId="_ENt3UN45Eee0YMxeWbu2Dg" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_recover_signalRequest" bpdm:isHeaderAuthorizationAware="yes" bpdm:ID="_Y9xT8N47Eee0YMxeWbu2Dg">
                                                        <bpel:correlation set="newCorrelationSet" initiate="join" pattern="response" bpdm:isSource="false"></bpel:correlation>
                                                    </bpdm:linkset>
                                                    <bpdm:linkset bpdm:type="assignments">
                                                        <bpel:copy>
                                                            <bpel:from>$ode:pid</bpel:from>
                                                            <bpel:to>$thisReceive_recover_signalResponse2Msg.body/Launchpoint:pid</bpel:to><mapper:mapperLink><mapper:vertice id="1811716968" targetPath="$thisReceive_recover_signalResponse2Msg.body/Launchpoint:pid" targetedBy="950266197-arg0"></mapper:vertice><mapper:vertice id="950266197" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>current-dateTime()</bpel:from>
                                                            <bpel:to>$thisReceive_recover_signalResponse2Msg.body/Launchpoint:timestamp</bpel:to><mapper:mapperLink><mapper:vertice id="1853851401" targetPath="$thisReceive_recover_signalResponse2Msg.body/Launchpoint:timestamp" targetedBy="11639641-arg0"></mapper:vertice><mapper:vertice id="11639641" dimension="109x24" location="336,160"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>$ode:pid</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:id</bpel:to><mapper:mapperLink><mapper:vertice id="855738761" targetPath="$ExecutionError/metrics:id" targetedBy="152066573-arg0"></mapper:vertice><mapper:vertice id="152066573" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                        <bpel:copy>
                                                            <bpel:from>true()</bpel:from>
                                                            <bpel:to>$ExecutionError/metrics:resolved</bpel:to><mapper:mapperLink><mapper:vertice id="526085576" targetPath="$ExecutionError/metrics:resolved" targetedBy="1587085672-arg0"></mapper:vertice><mapper:vertice id="1587085672" dimension="79x24" location="355,248"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                        </bpel:copy>
                                                    </bpdm:linkset>
                                                    <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="thisReceive_recover_signalResponse2Msg" bpdm:msgVarScopeId="_ENt3UN45Eee0YMxeWbu2Dg" bpdm:variableIsManaged="true" bpdm:messageType="this:Receive_recover_signalResponse" bpdm:isHeaderAuthorizationAware="yes" bpdm:ID="_ZWhLIN47Eee0YMxeWbu2Dg"></bpdm:linkset>
                                                </bpdm:messagingtask>
                                            </bpel:sequence>
                                        </bpdm:gateway>
                                        <bpdm:gateway bpdm:label="Exclusive_Data-Based_Gateway" bpdm:ID="_-9G5WN44Eee0YMxeWbu2Dg" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                        <bpdm:messagingtask eventType="intermediate: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_Intermediate_Event" bpdm:ID="_Dbg-UN45Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no"></bpdm:messagingtask>
                                    </bpel:sequence>
                                </bpel:scope>
                            </bpel:catchAll>
                        </bpel:faultHandlers>
                        <bpel:sequence>
                            <bpdm:messagingtask operation="Create_Diary" partnerLink="processimplicitPartnerAndProcessForHttpPortPlkVar" portType="CreateDiaryService:restInterface" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Call service" bpdm:ID="_QIxwkN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:CaseId</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/CaseId</bpel:to><mapper:mapperLink><mapper:vertice id="732046173" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/CaseId" targetedBy="1247877013-arg0"></mapper:vertice><mapper:vertice id="1247877013" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:CaseId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:ClientId</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/ClientId</bpel:to><mapper:mapperLink><mapper:vertice id="1881431834" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/ClientId" targetedBy="67122751-arg0"></mapper:vertice><mapper:vertice id="67122751" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:ClientId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:EnvironmentId</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/EnvironmentId</bpel:to><mapper:mapperLink><mapper:vertice id="1696002748" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/EnvironmentId" targetedBy="1230022598-arg0"></mapper:vertice><mapper:vertice id="1230022598" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case/Launchpoint:EnvironmentId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:DiaryType</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/DiaryType</bpel:to><mapper:mapperLink><mapper:vertice id="1700225879" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/DiaryType" targetedBy="666541112-arg0"></mapper:vertice><mapper:vertice id="666541112" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:DiaryType"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:DiaryStatus</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/DiaryStatus</bpel:to><mapper:mapperLink><mapper:vertice id="80631573" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/DiaryStatus" targetedBy="2009213259-arg0"></mapper:vertice><mapper:vertice id="2009213259" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:DiaryStatus"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:Description</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/Description</bpel:to><mapper:mapperLink><mapper:vertice id="2142882838" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/Description" targetedBy="2106477907-arg0"></mapper:vertice><mapper:vertice id="2106477907" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:Description"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:CreatedDate</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/CreateDate</bpel:to><mapper:mapperLink><mapper:vertice id="1574606621" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/CreateDate" targetedBy="498830334-arg0"></mapper:vertice><mapper:vertice id="498830334" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:CreatedDate"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:CreatedBy</bpel:from>
                                        <bpel:to>$createDiaryServiceCreate_DiaryRequest1Msg.body/CreatedBy</bpel:to><mapper:mapperLink><mapper:vertice id="1716082990" targetPath="$createDiaryServiceCreate_DiaryRequest1Msg.body/CreatedBy" targetedBy="1001928088-arg0"></mapper:vertice><mapper:vertice id="1001928088" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Diary/Launchpoint:CreatedBy"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>ode:get-property-value("CREATEDIARY")</bpel:from>
                                        <bpel:to endpointReference="partnerRole"/><mapper:mapperLink><mapper:vertice id="1209451877" targetPath="$endpoint" targetedBy="527144190-arg1"></mapper:vertice><mapper:vertice id="527144190" dimension="139x24" location="305,169"><mapper:value>ode:get-property-value()</mapper:value></mapper:vertice><mapper:vertice id="1651308886" dimension="93x24" location="97,137" targetedBy="527144190-arg0"><mapper:value>"CREATEDIARY"</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="createDiaryServiceCreate_DiaryRequest1Msg" bpdm:variableIsManaged="true" bpdm:messageType="CreateDiaryService:Create_Diary_input" bpdm:binding="CreateDiaryService:restBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_QIxwkN44Eee0YMxeWbu2DgOutgoing"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="createDiaryServiceCreate_DiaryResponse1Msg" bpdm:variableIsManaged="true" bpdm:messageType="CreateDiaryService:Create_Diary_output" bpdm:binding="CreateDiaryService:restBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_QIxwkN44Eee0YMxeWbu2DgIncoming"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:gateway bpdm:label="Source" bpdm:ID="_UDaaIN44Eee0YMxeWbu2Dg" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_V4PNx944Eee0YMxeWbu2Dg" bpdm:targetDisplayName="[Source - ISO Response]">
                                    <bpel:condition>"BUSINESSRULE" = $thisReceive_requestRequest2Msg.body/Launchpoint:Source<mapper:mapperLink><mapper:vertice id="389660368" targetPath="$condition" targetedBy="1312514248-arg2"></mapper:vertice><mapper:vertice id="1312514248" dimension="79x24" location="366,100"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="107998844" dimension="96x24" location="237,64" targetedBy="1312514248-arg0"><mapper:value>"BUSINESSRULE"</mapper:value></mapper:vertice><mapper:vertice id="2102656708" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Source" targetedBy="1312514248-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_aGZQQN44Eee0YMxeWbu2Dg" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpel:sequence>
                                    <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="ISO Response" bpdm:ID="_WvPHMN44Eee0YMxeWbu2Dg">
                                        <bpel:sequence>
                                            <bpdm:messagingtask eventType="end: message" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Reply to rule" bpdm:ID="_V4Gq4N44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="yes">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>true()</bpel:from>
                                                        <bpel:to>$success</bpel:to><mapper:mapperLink><mapper:vertice id="237763442" targetPath="$success" targetedBy="2076865489-arg0"></mapper:vertice><mapper:vertice id="2076865489" dimension="79x24" location="334,97"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                    </bpel:scope>
                                </bpel:sequence>
                                <bpel:sequence>
                                    <bpdm:messagingtask eventType="end: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_End_Event" bpdm:ID="_aGGVUN44Eee0YMxeWbu2Dg" bpdm:isHeaderAuthorizationAware="no"></bpdm:messagingtask>
                                </bpel:sequence>
                            </bpdm:gateway>
                        </bpel:sequence>
                    </bpel:scope>
                </bpel:sequence>
            </bpel:scope>
            <bpel:scope bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Log process end" bpdm:ID="_3lXVIP-1EeetAvjEnkssdA">
                <bpel:variables>
                    <bpel:variable name="logger-processReceive_LogResponse3Msg" messageType="logger-process:Receive_LogResponse" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="1" bpdm:messageIds="inc:_3N-v5v-1EeetAvjEnkssdAIncoming"/>
                    <bpel:variable name="logger-processReceive_Log3Msg" messageType="logger-process:Receive_LogRequest" binding="logger-process:processAndCallerServiceBinding" operation="Receive_Log" opMsgType="0" bpdm:messageIds=" out:_3N-v5v-1EeetAvjEnkssdAOutgoing">
                        <bpel:from bpdm:toPart="body">
                            <bpel:literal bpdm:linkedMessageType="logger-process:Receive_LogRequest" bpdm:linkedPart="body" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:opMsgType="0" bpdm:operation="Receive_Log"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                </bpel:variables>
                <bpel:sequence>
                    <bpdm:messagingtask operation="Receive_Log" partnerLink="processimplicitPartnerAndProcessForCanonicPortPlkVar" portType="logger-process:ForCaller" isMyRole="false" enableSharing="false" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Send log" bpdm:ID="_3N-v5v-1EeetAvjEnkssdA" bpdm:isHeaderAuthorizationAware="no">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>false()</bpel:from>
                                <bpel:to>$logger-processReceive_Log3Msg.body/Launchpoint:isError</bpel:to><mapper:mapperLink><mapper:vertice id="1615213370" targetPath="$logger-processReceive_Log3Msg.body/Launchpoint:isError" targetedBy="1416755725-arg0"></mapper:vertice><mapper:vertice id="1416755725" dimension="79x24" location="576,17"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$thisReceive_requestRequest2Msg.body/Launchpoint:Case</bpel:from>
                                <bpel:to>$logger-processReceive_Log3Msg.body/Launchpoint:Case</bpel:to><mapper:mapperLink><mapper:vertice id="577283509" targetPath="$logger-processReceive_Log3Msg.body/Launchpoint:Case" targetedBy="1327460638-arg0"></mapper:vertice><mapper:vertice id="1327460638" sourcePath="$thisReceive_requestRequest2Msg.body/Launchpoint:Case"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>"Process end"</bpel:from>
                                <bpel:to>$logger-processReceive_Log3Msg.body/Launchpoint:action_name</bpel:to><mapper:mapperLink><mapper:vertice id="316795042" targetPath="$logger-processReceive_Log3Msg.body/Launchpoint:action_name" targetedBy="224507694-arg0"></mapper:vertice><mapper:vertice id="224507694" dimension="81x24" location="510,77"><mapper:value>"Process end"</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>"createDiary"</bpel:from>
                                <bpel:to>$logger-processReceive_Log3Msg.body/Launchpoint:process_name</bpel:to><mapper:mapperLink><mapper:vertice id="1048579582" targetPath="$logger-processReceive_Log3Msg.body/Launchpoint:process_name" targetedBy="610009074-arg0"></mapper:vertice><mapper:vertice id="610009074" dimension="79x24" location="511,114"><mapper:value>"createDiary"</mapper:value></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$ode:pid</bpel:from>
                                <bpel:to>$logger-processReceive_Log3Msg.body/Launchpoint:pid</bpel:to><mapper:mapperLink><mapper:vertice id="1295109330" targetPath="$logger-processReceive_Log3Msg.body/Launchpoint:pid" targetedBy="1636709231-arg0"></mapper:vertice><mapper:vertice id="1636709231" sourcePath="$ode:pid"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="logger-processReceive_Log3Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogRequest" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_3N-v5v-1EeetAvjEnkssdAOutgoing"></bpdm:linkset>
                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="logger-processReceive_LogResponse3Msg" bpdm:variableIsManaged="true" bpdm:messageType="logger-process:Receive_LogResponse" bpdm:binding="logger-process:processAndCallerServiceBinding" bpdm:isHeaderAuthorizationAware="no" bpdm:ID="_3N-v5v-1EeetAvjEnkssdAIncoming"></bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpel:scope>
            <bpdm:messagingtask eventType="end: empty" bpdm:backEdgeId="" bpdm:backEdgeParticipantType="none" bpdm:backEdgeParticipantTarget="none" bpdm:label="Empty_End_Event" bpdm:ID="__FCLsP-1EeetAvjEnkssdA" bpdm:isHeaderAuthorizationAware="no"></bpdm:messagingtask>
        </bpel:sequence>
    </bpel:scope>
</bpel:process>